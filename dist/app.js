window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),$(function(){"use strict";function t(){i(),e(),g&&g.getContext&&(a=g.getContext("2d"),n()),w.on("resize",_.throttle(i,500))}function n(){requestAnimFrame(n),o()}function e(){var t=0;for(t;m>t;t++)l.push({x:Math.random()*h,y:Math.random()*d,vX:4*Math.random()-2||Math.random(),vY:4*Math.random()-2||-Math.random()})}function i(){h=w.width(),d=w.height(),s.attr("width",h).attr("height",d),c.width(h),c.height(d)}function o(){var t,n,e,i,o;a.clearRect(0,0,g.width,g.height),a.fillStyle="rgba(255, 255, 255, 0.05)",a.strokeStyle="rgba(255, 255, 255, 0.05)",a.lineWidth=.4;for(var m=0;m<l.length;m++){t=l[m],i=t.x+t.vX,o=t.y+t.vY,a.fillRect(t.x,t.y,1,1);for(var w=0;w<l.length;w++)n=l[w],e=r(t.x,t.y,n.x,n.y),u>e&&(a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(n.x,n.y),a.stroke());t.x=i>h?0:0>i?h:i,t.y=o>d?0:0>o?d:o}}function r(t,n,e,i){return Math.sqrt((e-=t)*e+(i-=n)*i)}var a,h,d,m=300,u=100,w=$(window),f=$("main"),c=f.find(".introduction"),s=f.find("#stage"),g=document.getElementById("stage"),l=[];t()});